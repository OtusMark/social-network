{"version":3,"sources":["components/Navbar/Navbar.module.scss","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","utils/validators/validators.ts","components/Profile/MyPosts/Post/Post.module.scss","hoc/withAuthRedirect.tsx","redux/reducers/dialogs-reducer.ts","assets/images/avatar-default.png","components/common/FormControls/FormControls.tsx","utils/helpers/update-object-in-array.ts","redux/reducers/users-reducer.ts","components/Header/Header.module.scss","components/Profile/MyPosts/MyPosts.module.scss","reportWebVitals.ts","redux/reducers/profile-reducer.ts","redux/reducers/auth-reducer.ts","redux/reducers/app-reducer.ts","redux/store.ts","components/Navbar/Navbar.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/LoginPage/LoginForm/LoginForm.tsx","components/LoginPage/LoginPage.tsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","api/api.ts"],"names":["module","exports","Preloader","src","preloader","alt","composeValidators","validators","value","reduce","error","validator","undefined","maxLength","lengthLimit","length","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","to","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","dialogsReducer","action","type","Math","random","sendMessageAC","TextArea","input","meta","touched","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","userId","followed","count","filter","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","requestedPage","dispatch","a","usersAPI","getUsers","data","totalUsersCont","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","post","likes","profile","status","setStatus","SET_USER_DATA","SET_AUTH_ERROR","CLEAR_AUTH_ERROR","email","login","authError","setAuthUserData","payload","clearAuthError","getAuthUserData","authAPI","getMe","response","APP_IS_INITIALIZED","initialized","rootReducer","combineReducers","profilePage","newPostText","postId","photos","dialogsPage","usersPage","errorMessages","app","store","createStore","applyMiddleware","ThunkMiddleware","Navbar","className","s","navbar","activeClassName","activeLink","Header","header","onClick","logout","HeaderContainer","this","React","LoginForm","onSubmitHandler","onSubmit","values","render","handleSubmit","form","event","reset","placeholder","component","password","rememberMe","console","log","formData","ProfileStatus","editMode","activeEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","prevProps","prevState","snapshot","onDoubleClick","onChange","autoFocus","onBlur","ProfileInfo","large","userAvatarDefault","isOwner","target","files","savePhoto","Post","avatar","NewPostForm","onAddPost","newPost","validate","MyPostsContainer","addPost","myPosts","Profile","ProfileContainer","match","params","loggedInUserId","getUserProfile","getProfileStatus","refreshProfile","updateProfileStatus","compose","profileAPI","getProfile","getStatus","newStatus","file","withRouter","withSuspense","fallback","DialogsContainer","lazy","default","UsersContainer","App","initializeApp","path","promise","Promise","all","ReactDOM","document","getElementById","instance","axios","create","withCredentials","baseURL","headers","get","delete","warn","put","photoFile","FormData","append"],"mappings":"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","file":"static/js/main.1094bd31.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2Jmdd\",\"activeLink\":\"Navbar_activeLink__Msj5u\"};","export default __webpack_public_path__ + \"static/media/preloader.f05770b4.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt='preloader'/>\r\n        </div>\r\n    )\r\n}","// composeValidators is required to combine validators in React final form.\r\nexport const composeValidators = (...validators: any) => (value: string) =>\r\n    validators.reduce((error: string, validator: any) => error || validator(value), undefined)\r\n\r\n// Single validators\r\n//------------------\r\n\r\n// Checks if the field is not empty.\r\nexport const required = (value: string) => {\r\n    if (value) {\r\n        return undefined\r\n    } else {\r\n        return 'Field is required'\r\n    }\r\n}\r\n\r\n// Max length validator creator, return unique validator that restricts max length of the text in the field.\r\nexport const maxLength = (lengthLimit: number) => {\r\n    return (\r\n        (value: string) => {\r\n            if (value && value.length > lengthLimit) {\r\n                return `Max length is ${lengthLimit} symbols`\r\n            } else {\r\n                return undefined\r\n            }\r\n        }\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Post_avatar__t7JUp\",\"post\":\"Post_post__qfkGF\"};","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStateType} from \"../redux/store\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE'\r\n\r\nlet initialState: dialogsStateType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Mark'},\r\n        {id: 2, name: 'Ivan'},\r\n        {id: 3, name: 'Issac'},\r\n        {id: 4, name: 'Robert'},\r\n        {id: 5, name: 'Arthur'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'My name is Mark'},\r\n        {id: 2, message: 'My name is Ivan'},\r\n        {id: 3, message: 'My name is Issac'},\r\n        {id: 4, message: 'My name is Robert'},\r\n        {id: 5, message: 'My name is Arthur'}\r\n    ]\r\n}\r\n\r\n// Reducer\r\nexport const dialogsReducer = (state: dialogsStateType = initialState, action: DialogsActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: Math.random(), message: action.message}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const sendMessageAC = (message: string) => ({type: SEND_MESSAGE , message} as const)\r\n\r\n// Types\r\nexport type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessagesType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type DialogsDataType = Array<DialogsType>\r\nexport type MessagesDataType = Array<MessagesType>\r\n\r\nexport type dialogsStateType = {\r\n    dialogs: DialogsDataType\r\n    messages: MessagesDataType\r\n}\r\n\r\nexport type DialogsActionsType = | ReturnType<typeof sendMessageAC>","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\n\r\nexport const TextArea: React.FC<any> = ({input, meta, props}) => {\r\n    return (\r\n        <div>\r\n            <textarea {...input} {...props}/>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<any> = ({input, meta, props}) => {\r\n    return (\r\n        <div>\r\n            <input {...input} {...props}/>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n// Code duplication!!! Needs refactoring","export const updateObjectInArray = (items: Array<any>, itemId: string | number, objPropName: string, newObjProps: Object) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../../utils/helpers/update-object-in-array\";\r\n\r\nconst FOLLOW = 'users/FOLLOW'\r\nconst UNFOLLOW = 'users/UNFOLLOW'\r\nconst SET_USERS = 'users/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState: UsersStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersStateType = initialState, action: UsersActionsType) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                // users: state.users.map(u => (u.id === action.userId) ? {...u, followed: true} : u)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                // users: state.users.map(u => (u.id === action.userId) ? {...u, followed: false} : u)\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId} as const)\r\n\r\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\n\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\r\n\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\n\r\nexport const setUsersTotalCount = (totalUsersCont: number) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsersCont\r\n} as const)\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n// Thunk creators\r\nexport const requestUsers = (requestedPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersAPI.getUsers(requestedPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUsersTotalCount(data.totalCount))\r\n        dispatch(setCurrentPage(requestedPage))\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: any, actionCreator: any) => {\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess)\r\n    }\r\n}\r\n\r\n// Types\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    status: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    followed: boolean\r\n}\r\n\r\nexport type UsersStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: []\r\n}\r\n\r\nexport type UsersActionsType =\r\n    ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setUsersTotalCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowingProgress>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3nLLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MyPosts_btn__2aPY-\",\"btnClose\":\"MyPosts_btnClose__3MtkO\"};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {profileAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST'\r\nconst DELETE_POST = 'profile/DELETE_POST'\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState: profileStateType = {\r\n    posts: [\r\n        {id: 1, post: 'My first post', likes: 1},\r\n        {id: 2, post: 'My second post', likes: 2},\r\n        {id: 3, post: 'My third post', likes: 3},\r\n        {id: 4, post: 'My fourth post', likes: 4},\r\n        {id: 5, post: 'My fifth post', likes: 5}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\n// Reducer\r\nexport const profileReducer = (state: profileStateType = initialState, action: ProfileActionsType) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: 6,\r\n                    post: action.newPostText,\r\n                    likes: 0\r\n                }],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId),\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const addPost = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\r\n\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId} as const)\r\n\r\nexport const setUserProfile = (profile: any) => ({\r\n    type: SET_USER_PROFILE, profile\r\n} as const)\r\n\r\nexport const setStatus = (status: string) => ({\r\n    type: SET_STATUS, status\r\n} as const)\r\n\r\nexport const savePhotoSuccess = (photos: Array<HTMLImageElement>) => ({\r\n    type: SAVE_PHOTO_SUCCESS, photos\r\n} as const)\r\n\r\n// Thunk creators\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getProfileStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateProfileStatus = (newStatus: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(newStatus)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(newStatus))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: HTMLImageElement) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n// Types\r\nexport type PostType = {\r\n    id: number\r\n    post: string\r\n    likes: number\r\n}\r\n\r\nexport type PostDataType = Array<PostType>\r\n\r\nexport type profileStateType = {\r\n    posts: PostDataType\r\n    profile: {} | null\r\n    status: string\r\n}\r\n\r\nexport type ProfileActionsType =\r\n    ReturnType<typeof addPost>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n\r\n\r\n\r\n","import {authAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst SET_AUTH_ERROR = 'auth/SET_AUTH_ERROR'\r\nconst CLEAR_AUTH_ERROR = 'auth/CLEAR_AUTH_ERROR'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    authError: {\r\n        status: false,\r\n        messages: []\r\n    }\r\n\r\n}\r\n\r\nexport const authReducer = (state: AuthStateType = initialState, action: AuthActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case SET_AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                ...state.authError,\r\n                authError: {\r\n                    status: true,\r\n                    messages: action.errorMessages\r\n                }\r\n            }\r\n        case CLEAR_AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                ...state.authError,\r\n                authError: {\r\n                    status: false,\r\n                    messages: []\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n} as const)\r\n\r\nexport const setAuthError = (errorMessages: Array<string>) => ({type: SET_AUTH_ERROR, errorMessages} as const)\r\n\r\nexport const clearAuthError = () => ({type: CLEAR_AUTH_ERROR} as const)\r\n\r\n// Thunk creators\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.getMe()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(clearAuthError())\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                dispatch(setAuthError(response.data.messages))\r\n                console.log(response.data.messages)\r\n            }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(clearAuthError())\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n}\r\n\r\n// Types\r\nexport type AuthStateType = typeof initialState\r\n\r\nexport type AuthActionsType =\r\n    ReturnType<typeof setAuthUserData> |\r\n    ReturnType<typeof setAuthError> |\r\n    ReturnType<typeof clearAuthError>","import {getAuthUserData} from \"./auth-reducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst APP_IS_INITIALIZED = 'app/APP_IS_INITIALIZED'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: AppStateType = initialState, action: AppActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case APP_IS_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const setAppAsInitialized = () => ({type: APP_IS_INITIALIZED} as const)\r\n\r\n// Thunk creators\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUserData())\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setAppAsInitialized())\r\n        })\r\n}\r\n\r\n// Types\r\nexport type AppStateType = typeof initialState\r\n\r\nexport type AppActionsType =\r\n    ReturnType<typeof setAppAsInitialized>","import {applyMiddleware, CombinedState, combineReducers, createStore} from \"redux\";\r\nimport {ProfileActionsType, profileReducer, profileStateType} from \"./reducers/profile-reducer\";\r\nimport {DialogsActionsType, dialogsReducer, dialogsStateType} from \"./reducers/dialogs-reducer\";\r\nimport {UsersActionsType, usersReducer, UsersStateType} from \"./reducers/users-reducer\";\r\nimport {AuthActionsType, authReducer, AuthStateType} from \"./reducers/auth-reducer\";\r\nimport ThunkMiddleware from \"redux-thunk\"\r\nimport {AppActionsType, appReducer, AppStateType} from \"./reducers/app-reducer\";\r\n\r\nexport type CombinedActionsType =\r\n    DialogsActionsType | ProfileActionsType | UsersActionsType | AuthActionsType | AppActionsType\r\n\r\nexport type DispatchType = (action: CombinedActionsType) =>  any\r\n\r\nexport type AppRootStateType = CombinedState<{\r\n    profilePage: profileStateType\r\n    dialogsPage: dialogsStateType\r\n    usersPage: UsersStateType\r\n    auth: AuthStateType\r\n    app: AppStateType\r\n}>\r\n\r\n// Redux\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(ThunkMiddleware))","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Navbar.module.scss';\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={s.navbar}>\r\n            <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n        </nav>\r\n    )\r\n}","import React, {MouseEventHandler} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.scss'\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: boolean\r\n    logout: MouseEventHandler<HTMLButtonElement>\r\n}\r\n\r\nexport const Header = (props: PropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div>\r\n                { props.isAuth\r\n                    ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\nimport {AppRootStateType} from \"../../redux/store\";\r\n\r\nclass HeaderContainer extends React.Component<any, {}> {\r\n    render() {\r\n        return <Header isAuth={this.props.isAuth}\r\n                       login={this.props.login}\r\n                       logout={this.props.logout}/>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) =>  ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from \"react\";\r\nimport {Form, Field} from 'react-final-form'\r\n\r\ntype PropsType = {\r\n    authError: {status: boolean, messages: Array<string>}\r\n    onSubmitHandler: (formData: any) => void\r\n}\r\n\r\nexport const LoginForm: React.FC<PropsType> = ({onSubmitHandler, authError}) => {\r\n    return (\r\n        <Form\r\n            onSubmit={values => onSubmitHandler(values)}\r\n            render={({handleSubmit, form}) => (\r\n                <form onSubmit={async event => {\r\n                        await handleSubmit(event)\r\n                        form.reset()\r\n                }}>\r\n                    <div>\r\n                        <Field placeholder={'Email'} name={'email'} component={'input'}/>\r\n                    </div>\r\n                    <div>\r\n                        <Field placeholder={'Password'} name={'password'} component={'input'} type={'password'}/>\r\n                    </div>\r\n                    <div>\r\n                        <Field type={'checkbox'} name={'rememberMe'} component={'input'}/>\r\n                        <span>Remember me</span>\r\n                    </div>\r\n                    <div>\r\n                        <button>Login</button>\r\n                    </div>\r\n                    <div>{authError.messages}</div>\r\n                </form>\r\n            )}\r\n        >\r\n        </Form>\r\n    )\r\n}\r\n\r\n// React final form notes. (https://final-form.org/react)\r\n//+++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n// Field is replacing the standard input. component={'input'} must be added as an attribute.\r\n// onSubmit returns the values of the submitted form.\r\n// handleSubmit is a prop of the React final form library.","import React from 'react'\r\nimport {LoginForm} from \"./LoginForm/LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/reducers/auth-reducer\";\r\nimport {AppRootStateType, DispatchType} from \"../../redux/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype LoginPagePropsType = any & {\r\n    login: (email: string, password: string, rememberMe: boolean) => { dispatch: DispatchType }\r\n    isAuth: boolean\r\n    authError: {\r\n        status: boolean\r\n        messages: Array<string>\r\n    }\r\n}\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginPage: React.FC<LoginPagePropsType> = ({login, isAuth, authError}) => {\r\n\r\n    const onSubmitHandler = (formData: FormDataType) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <LoginForm authError={authError} onSubmitHandler={onSubmitHandler}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    authError: state.auth.authError\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(LoginPage)","import React, {ChangeEvent} from \"react\";\r\n\r\ntype propsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport class ProfileStatus extends React.Component<propsType, {}> {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    // Synchronizing the global value of user status with local, to prevent empty input.\r\n    componentDidUpdate(prevProps: Readonly<propsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    activeEditMode = () => {\r\n        // setState is asynchronous\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        // setState is asynchronous\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={this.activeEditMode}>{this.props.status || 'No status'}</span>\r\n                    </div>\r\n                }\r\n                {this.state.editMode &&\r\n                    <div>\r\n                        <input onChange={this.onStatusChange}\r\n                               autoFocus={true}\r\n                               onBlur={this.deactivateEditMode}\r\n                               value={this.state.status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import React, {ChangeEventHandler} from \"react\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileStatus} from \"./ProfileStatus/ProfileStatus\";\r\nimport userAvatarDefault from \"../../../assets/images/avatar-default.png\";\r\n\r\ntype propsType = {\r\n    isOwner: boolean\r\n    profile: any\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: any\r\n}\r\n\r\nexport const ProfileInfo = (props: propsType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelect = (e: any) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src={props.profile.photos.large || userAvatarDefault} alt=\"\"/>\r\n                {props.isOwner && <input type={'file'} onChange={onMainPhotoSelect}/>}\r\n            </div>\r\n            <div>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Post.module.scss'\r\nimport {PostType} from \"../../../../redux/reducers/profile-reducer\";\r\n\r\ntype PostPropsType = PostType;\r\n\r\nlet avatarSrc = 'https://at-cdn-s02.audiotool.com/2020-12-04/users/error_/avatar256x256-31037b09db3c4089b73baef792827e1b.jpg'\r\n\r\nexport const Post: React.FC<PostPropsType> = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={avatarSrc} alt=\"Avatar\" className={s.avatar}/>\r\n            <div>{props.post}</div>\r\n            <div>Likes: {props.likes}</div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.scss'\r\nimport {Post} from \"./Post/Post\";\r\nimport {PostDataType} from \"../../../redux/reducers/profile-reducer\";\r\nimport {Field, Form} from \"react-final-form\";\r\nimport {composeValidators, maxLength} from \"../../../utils/validators/validators\";\r\nimport {TextArea} from \"../../common/FormControls/FormControls\";\r\n\r\ntype MyPostsPropsType = {\r\n    addPost: (newPostText: string) => void\r\n    posts: PostDataType\r\n}\r\n\r\nexport const MyPosts = (props: MyPostsPropsType) => {\r\n\r\n    let myPosts = props.posts.map(post => <Post key={post.id} id={post.id} post={post.post} likes={post.likes}/>)\r\n\r\n\r\n    let onAddPost = (newPostText: string) => {\r\n        props.addPost(newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <NewPostForm onAddPost={onAddPost}/>\r\n            <div>\r\n                {myPosts}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormPropsType = {\r\n    onAddPost: (newPostText: string) => void\r\n}\r\n\r\n// Form Component\r\nconst NewPostForm: React.FC<FormPropsType> = ({onAddPost}) => {\r\n    return (\r\n        <Form\r\n            onSubmit={values => {\r\n                onAddPost(values.newPost)\r\n            }}\r\n            render={({handleSubmit, form}) => (\r\n                <form onSubmit={async event => {\r\n                    await handleSubmit(event)\r\n                    form.reset()\r\n                }}>\r\n                    <div>\r\n                        <Field component={TextArea}\r\n                               name={'newPost'}\r\n                               placeholder={'Add new post'}\r\n                               validate={composeValidators(maxLength(150))}/>\r\n                    </div>\r\n                    <div>\r\n                        <button>Send</button>\r\n                    </div>\r\n                </form>\r\n            )}>\r\n        </Form>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {AppRootStateType, DispatchType} from \"../../../redux/store\";\r\nimport {addPost} from \"../../../redux/reducers/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: DispatchType) => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPost(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import React from 'react';\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {profileStateType} from \"../../redux/reducers/profile-reducer\";\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n    profile: profileStateType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: any\r\n}\r\n\r\nexport const Profile = (props: PropsType) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={props.savePhoto}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfileStatus, getUserProfile, savePhoto, updateProfileStatus} from \"../../redux/reducers/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype PropsType = any\r\n\r\nclass ProfileContainer extends React.Component<PropsType, {}> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.loggedInUserId;\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getProfileStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateProfileStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: any) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedInUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getProfileStatus, updateProfileStatus, savePhoto}),\r\n    withRouter, withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n// Compose is alternative to writing the hoc hell, like in the line below.\r\n// export default withAuthRedirect(withRouter(connect(mapStateToProps, {getUserProfile})(ProfileContainer)))","import React, {ComponentType, Suspense} from \"react\";\r\nimport {Preloader} from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport function withSuspense<T>(Component: ComponentType<T>) {\r\n\r\n    return (props: any) => {\r\n        return (\r\n            <Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport './App.scss';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {BrowserRouter, HashRouter, Route} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/LoginPage/LoginPage\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\r\nimport {AppRootStateType} from \"./redux/store\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\").then(module => ({default: module.DialogsContainer})))\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\").then(module => ({default: module.UsersContainer})))\r\n\r\ntype PropsType = any\r\n\r\nclass App extends React.Component<PropsType, any> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <HashRouter>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar/>\r\n                    <div className='app-content'>\r\n\r\n                        <Route path='/profile/:userId?'>\r\n                            <ProfileContainer/>\r\n                        </Route>\r\n\r\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n\r\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n\r\n                        <Route path='/login'>\r\n                            <LoginPage/>\r\n                        </Route>\r\n\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {initializeApp}))(App);","import React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.scss';\r\nimport {store} from \"./redux/store\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root'))\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'dd304e28-3d68-4d00-a172-a57bb7d47656'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    // Backward compatibility for components that use usersAPI instead of profileAPI\r\n    getProfile(userId: number) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(newStatus: string) {\r\n        // 'put' requires JSON file as a second argument\r\n        return instance.put(`profile/status`, {status: newStatus})\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}"],"sourceRoot":""}