{"version":3,"sources":["components/Navbar/Navbar.module.scss","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","utils/validators/validators.ts","components/Profile/MyPosts/Post/Post.module.scss","hoc/withAuthRedirect.tsx","redux/reducers/dialogs-reducer.ts","assets/images/avatar-default.png","components/common/FormControls/FormControls.tsx","utils/helpers/update-object-in-array.ts","redux/reducers/users-reducer.ts","components/Header/Header.module.scss","components/Profile/MyPosts/MyPosts.module.scss","reportWebVitals.ts","redux/reducers/form-reducer.ts","redux/reducers/profile-reducer.ts","redux/reducers/auth-reducer.ts","redux/reducers/app-reducer.ts","redux/store.ts","components/Navbar/Navbar.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/LoginPage/LoginForm/LoginForm.tsx","components/LoginPage/LoginPage.tsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","hoc/withSuspense.tsx","App.tsx","index.tsx","api/api.ts"],"names":["module","exports","Preloader","src","preloader","alt","composeValidators","validators","value","reduce","error","validator","undefined","maxLength","lengthLimit","length","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","to","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","dialogsReducer","action","type","Math","random","sendMessageAC","TextArea","input","meta","touched","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","userId","followed","count","filter","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","requestUsers","requestedPage","dispatch","a","usersAPI","getUsers","data","totalUsersCont","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_FORM_ERROR","CLEAR_FORM_ERROR","status","setFormError","errorMessages","clearFormError","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SET_EDIT_MODE","posts","post","likes","profile","profileEditModeOn","setEditMode","editModeState","setStatus","getUserProfile","profileAPI","getProfile","response","SET_USER_DATA","email","login","setAuthUserData","payload","getAuthUserData","authAPI","getMe","APP_IS_INITIALIZED","initialized","globalError","rootReducer","combineReducers","profilePage","newPostText","postId","photos","dialogsPage","usersPage","app","form","store","createStore","applyMiddleware","ThunkMiddleware","Navbar","className","s","navbar","activeClassName","activeLink","Header","header","onClick","logout","HeaderContainer","this","React","LoginForm","onSubmitHandler","authError","onSubmit","values","render","handleSubmit","event","reset","placeholder","component","formError","password","rememberMe","formData","ProfileStatus","editMode","activeEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","prevProps","prevState","snapshot","onDoubleClick","onChange","autoFocus","onBlur","ProfileDataForm","onEditSubmitHandler","defaultValue","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","key","ProfileInfo","isOwner","savePhoto","saveProfile","large","userAvatarDefault","target","files","goToEditMode","ProfileData","fullName","Post","avatar","NewPostForm","onAddPost","newPost","validate","MyPostsContainer","addPost","myPosts","Profile","ProfileContainer","match","params","loggedInUserId","getProfileStatus","refreshProfile","updateProfileStatus","compose","getStatus","newStatus","file","profileData","getState","withRouter","withSuspense","fallback","DialogsContainer","lazy","default","UsersContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","console","initializeApp","window","addEventListener","removeEventListener","exact","path","promise","Promise","all","ReactDOM","document","getElementById","instance","axios","create","withCredentials","baseURL","headers","get","delete","warn","put","photoFile","FormData","append"],"mappings":"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","file":"static/js/main.230bbf2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2Jmdd\",\"activeLink\":\"Navbar_activeLink__Msj5u\"};","export default __webpack_public_path__ + \"static/media/preloader.f05770b4.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt='preloader'/>\r\n        </div>\r\n    )\r\n}","// composeValidators is required to combine validators in React final form.\r\nexport const composeValidators = (...validators: any) => (value: string) =>\r\n    validators.reduce((error: string, validator: any) => error || validator(value), undefined)\r\n\r\n// Single validators\r\n//------------------\r\n\r\n// Checks if the field is not empty.\r\nexport const required = (value: string) => {\r\n    if (value) {\r\n        return undefined\r\n    } else {\r\n        return 'Field is required'\r\n    }\r\n}\r\n\r\n// Max length validator creator, return unique validator that restricts max length of the text in the field.\r\nexport const maxLength = (lengthLimit: number) => {\r\n    return (\r\n        (value: string) => {\r\n            if (value && value.length > lengthLimit) {\r\n                return `Max length is ${lengthLimit} symbols`\r\n            } else {\r\n                return undefined\r\n            }\r\n        }\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Post_avatar__t7JUp\",\"post\":\"Post_post__qfkGF\"};","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppRootStateType} from \"../redux/store\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}","const SEND_MESSAGE = 'dialogs/SEND-MESSAGE'\r\n\r\nlet initialState: dialogsStateType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Mark'},\r\n        {id: 2, name: 'Ivan'},\r\n        {id: 3, name: 'Issac'},\r\n        {id: 4, name: 'Robert'},\r\n        {id: 5, name: 'Arthur'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'My name is Mark'},\r\n        {id: 2, message: 'My name is Ivan'},\r\n        {id: 3, message: 'My name is Issac'},\r\n        {id: 4, message: 'My name is Robert'},\r\n        {id: 5, message: 'My name is Arthur'}\r\n    ]\r\n}\r\n\r\n// Reducer\r\nexport const dialogsReducer = (state: dialogsStateType = initialState, action: DialogsActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: Math.random(), message: action.message}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const sendMessageAC = (message: string) => ({type: SEND_MESSAGE , message} as const)\r\n\r\n// Types\r\nexport type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessagesType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type DialogsDataType = Array<DialogsType>\r\nexport type MessagesDataType = Array<MessagesType>\r\n\r\nexport type dialogsStateType = {\r\n    dialogs: DialogsDataType\r\n    messages: MessagesDataType\r\n}\r\n\r\nexport type DialogsActionsType = | ReturnType<typeof sendMessageAC>","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\n\r\nexport const TextArea: React.FC<any> = ({input, meta, props}) => {\r\n    return (\r\n        <div>\r\n            <textarea {...input} {...props}/>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<any> = ({input, meta, props}) => {\r\n    return (\r\n        <div>\r\n            <input {...input} {...props}/>\r\n            {meta.touched && meta.error && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n// Code duplication!!! Needs refactoring","export const updateObjectInArray = (items: Array<any>, itemId: string | number, objPropName: string, newObjProps: Object) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item\r\n    })\r\n}","import {usersAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../../utils/helpers/update-object-in-array\";\r\n\r\nconst FOLLOW = 'users/FOLLOW'\r\nconst UNFOLLOW = 'users/UNFOLLOW'\r\nconst SET_USERS = 'users/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState: UsersStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersStateType = initialState, action: UsersActionsType) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                // users: state.users.map(u => (u.id === action.userId) ? {...u, followed: true} : u)\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                // users: state.users.map(u => (u.id === action.userId) ? {...u, followed: false} : u)\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId} as const)\r\n\r\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\n\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\r\n\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\n\r\nexport const setUsersTotalCount = (totalUsersCont: number) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    count: totalUsersCont\r\n} as const)\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n// Thunk creators\r\nexport const requestUsers = (requestedPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersAPI.getUsers(requestedPage, pageSize)\r\n\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUsersTotalCount(data.totalCount))\r\n        dispatch(setCurrentPage(requestedPage))\r\n\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: any, actionCreator: any) => {\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI)\r\n\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: Dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess)\r\n    }\r\n}\r\n\r\n// Types\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    status: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    followed: boolean\r\n}\r\n\r\nexport type UsersStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: []\r\n}\r\n\r\nexport type UsersActionsType =\r\n    ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setUsersTotalCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleIsFollowingProgress>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3nLLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MyPosts_btn__2aPY-\",\"btnClose\":\"MyPosts_btnClose__3MtkO\"};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const SET_FORM_ERROR = 'auth/SET_FORM_ERROR'\r\nconst CLEAR_FORM_ERROR = 'auth/CLEAR_FORM_ERROR'\r\n\r\nlet initialState = {\r\n    error: {\r\n        status: false,\r\n        messages: []\r\n    }\r\n}\r\n\r\nexport const formReducer = (state: FormStateType = initialState, action: FormActionsType) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_ERROR:\r\n            return {\r\n                ...state,\r\n                ...state.error,\r\n                error: {\r\n                    status: true,\r\n                    messages: action.errorMessages\r\n                }\r\n            }\r\n        case CLEAR_FORM_ERROR:\r\n            return {\r\n                ...state,\r\n                ...state.error,\r\n                error: {\r\n                    status: false,\r\n                    messages: []\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\n\r\nexport const setFormError = (errorMessages: Array<string>) => ({type: SET_FORM_ERROR, errorMessages} as const)\r\n\r\nexport const clearFormError = () => ({type: CLEAR_FORM_ERROR} as const)\r\n\r\n// Types\r\nexport type FormStateType = typeof initialState\r\n\r\nexport type FormErrorType = { status: boolean, messages: Array<string> }\r\n\r\nexport type FormActionsType =\r\n    ReturnType<typeof setFormError> |\r\n    ReturnType<typeof clearFormError>","import {profileAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppRootStateType} from \"../store\";\r\nimport {clearFormError, setFormError} from \"./form-reducer\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST'\r\nconst DELETE_POST = 'profile/DELETE_POST'\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS'\r\nconst SET_EDIT_MODE = 'profile/SET_EDIT_MODE'\r\n\r\nlet initialState: profileStateType = {\r\n    posts: [\r\n        {id: 1, post: 'My first post', likes: 1},\r\n        {id: 2, post: 'My second post', likes: 2},\r\n        {id: 3, post: 'My third post', likes: 3},\r\n        {id: 4, post: 'My fourth post', likes: 4},\r\n        {id: 5, post: 'My fifth post', likes: 5}\r\n    ],\r\n    profile: null,\r\n    profileEditModeOn: false,\r\n    status: ''\r\n}\r\n\r\n// Reducer\r\nexport const profileReducer = (state: profileStateType = initialState, action: ProfileActionsType) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: 6,\r\n                    post: action.newPostText,\r\n                    likes: 0\r\n                }],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId),\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case SET_EDIT_MODE: {\r\n            return {\r\n                ...state,\r\n                profileEditModeOn: action.editModeState\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const addPost = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\r\n\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId} as const)\r\n\r\nexport const setEditMode = (editModeState: boolean) => ({type: SET_EDIT_MODE, editModeState} as const)\r\n\r\nexport const setUserProfile = (profile: any) => ({\r\n    type: SET_USER_PROFILE, profile\r\n} as const)\r\n\r\nexport const setStatus = (status: string) => ({\r\n    type: SET_STATUS, status\r\n} as const)\r\n\r\nexport const savePhotoSuccess = (photos: Array<HTMLImageElement>) => ({\r\n    type: SAVE_PHOTO_SUCCESS, photos\r\n} as const)\r\n\r\n// Thunk creators\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\r\n\r\n    const response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getProfileStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n\r\n    const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n\r\n}\r\n\r\nexport const updateProfileStatus = (newStatus: string) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.updateStatus(newStatus)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(newStatus))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: HTMLImageElement) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profileData: ProfileType) => async (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n    const userId = getState().auth.userId\r\n\r\n    const response = await profileAPI.saveProfile(profileData)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(clearFormError())\r\n        dispatch(setEditMode(false))\r\n        // @ts-ignore\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        dispatch(setEditMode(true))\r\n        dispatch(setFormError(response.data.messages))\r\n    }\r\n}\r\n\r\n// Types\r\nexport type PostType = {\r\n    id: number\r\n    post: string\r\n    likes: number\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    aboutMe: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    contacts: ProfileContactsType\r\n}\r\n\r\nexport type ProfileContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n} & { [index: string]: any } // Defining index types\r\n\r\nexport type PostDataType = Array<PostType>\r\n\r\nexport type profileStateType = {\r\n    posts: PostDataType\r\n    profile: ProfileType | null\r\n    status: string\r\n    profileEditModeOn: boolean\r\n}\r\n\r\nexport type ProfileActionsType =\r\n    ReturnType<typeof addPost>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n    | ReturnType<typeof setEditMode>\r\n\r\n\r\n\r\n","import {authAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {clearFormError, setFormError} from \"./form-reducer\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nexport const authReducer = (state: AuthStateType = initialState, action: AuthActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n} as const)\r\n\r\n// Thunk creators\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.getMe()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(clearFormError())\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                dispatch(setFormError(response.data.messages))\r\n            }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(clearFormError())\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n}\r\n\r\n// Types\r\nexport type AuthStateType = typeof initialState\r\n\r\nexport type AuthActionsType = ReturnType<typeof setAuthUserData>","import {getAuthUserData} from \"./auth-reducer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst APP_IS_INITIALIZED = 'app/APP_IS_INITIALIZED'\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n}\r\n\r\nexport const appReducer = (state: AppStateType = initialState, action: AppActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case APP_IS_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Action creators\r\nexport const setAppAsInitialized = () => ({type: APP_IS_INITIALIZED} as const)\r\n\r\n// Thunk creators\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUserData())\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setAppAsInitialized())\r\n        })\r\n}\r\n\r\n// Types\r\nexport type AppStateType = typeof initialState\r\n\r\nexport type AppActionsType =\r\n    ReturnType<typeof setAppAsInitialized>","import {applyMiddleware, CombinedState, combineReducers, createStore} from \"redux\";\r\nimport {ProfileActionsType, profileReducer, profileStateType} from \"./reducers/profile-reducer\";\r\nimport {DialogsActionsType, dialogsReducer, dialogsStateType} from \"./reducers/dialogs-reducer\";\r\nimport {UsersActionsType, usersReducer, UsersStateType} from \"./reducers/users-reducer\";\r\nimport {AuthActionsType, authReducer, AuthStateType} from \"./reducers/auth-reducer\";\r\nimport ThunkMiddleware from \"redux-thunk\"\r\nimport {AppActionsType, appReducer, AppStateType} from \"./reducers/app-reducer\";\r\nimport {FormActionsType, formReducer, FormStateType} from \"./reducers/form-reducer\";\r\n\r\nexport type CombinedActionsType =\r\n    DialogsActionsType | ProfileActionsType | UsersActionsType | AuthActionsType | AppActionsType | FormActionsType\r\n\r\nexport type DispatchType = (action: CombinedActionsType) =>  any\r\n\r\nexport type AppRootStateType = CombinedState<{\r\n    profilePage: profileStateType\r\n    dialogsPage: dialogsStateType\r\n    usersPage: UsersStateType\r\n    auth: AuthStateType\r\n    app: AppStateType\r\n    form: FormStateType\r\n}>\r\n\r\n// Redux\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(ThunkMiddleware))","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Navbar.module.scss';\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={s.navbar}>\r\n            <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n        </nav>\r\n    )\r\n}","import React, {MouseEventHandler} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.scss'\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: boolean\r\n    logout: MouseEventHandler<HTMLButtonElement>\r\n}\r\n\r\nexport const Header = (props: PropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <div>\r\n                { props.isAuth\r\n                    ? <div>{props.login} <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/reducers/auth-reducer\";\r\nimport {AppRootStateType} from \"../../redux/store\";\r\n\r\nclass HeaderContainer extends React.Component<any, {}> {\r\n    render() {\r\n        return <Header isAuth={this.props.isAuth}\r\n                       login={this.props.login}\r\n                       logout={this.props.logout}/>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) =>  ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from \"react\";\r\nimport {Field, Form} from 'react-final-form'\r\nimport {LoginFormDataType} from \"../LoginPage\";\r\nimport {FormErrorType} from \"../../../redux/reducers/form-reducer\";\r\n\r\ntype PropsType = {\r\n    authError: FormErrorType\r\n    onSubmitHandler: (formData: LoginFormDataType & any) => void\r\n}\r\n\r\nexport const LoginForm: React.FC<PropsType> = ({onSubmitHandler, authError}) => {\r\n    return (\r\n        <Form\r\n            onSubmit={values => onSubmitHandler(values)}\r\n            render={({handleSubmit, form}) => (\r\n                <form onSubmit={async event => {\r\n                        await handleSubmit(event)\r\n                        form.reset()\r\n                }}>\r\n                    <div>\r\n                        <Field placeholder={'Email'} name={'email'} component={'input'}/>\r\n                    </div>\r\n                    <div>\r\n                        <Field placeholder={'Password'} name={'password'} component={'input'} type={'password'}/>\r\n                    </div>\r\n                    <div>\r\n                        <Field type={'checkbox'} name={'rememberMe'} component={'input'}/>\r\n                        <span>Remember me</span>\r\n                    </div>\r\n                    <div>\r\n                        <button>Login</button>\r\n                    </div>\r\n                    <div>{authError.messages}</div>\r\n                </form>\r\n            )}\r\n        >\r\n        </Form>\r\n    )\r\n}\r\n\r\n// React final form notes. (https://final-form.org/react)\r\n//+++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n// Field is replacing the standard input. component={'input'} must be added as an attribute.\r\n// onSubmit returns the values of the submitted form.\r\n// handleSubmit is a prop of the React final form library.","import React from 'react'\r\nimport {LoginForm} from \"./LoginForm/LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/reducers/auth-reducer\";\r\nimport {AppRootStateType, DispatchType} from \"../../redux/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype LoginPagePropsType = any & {\r\n    login: (email: string, password: string, rememberMe: boolean) => { dispatch: DispatchType }\r\n    isAuth: boolean\r\n    authError: {\r\n        status: boolean\r\n        messages: Array<string>\r\n    }\r\n}\r\n\r\nexport type LoginFormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginPage: React.FC<LoginPagePropsType> = ({login, isAuth, formError}) => {\r\n\r\n    const onSubmitHandler = (formData: LoginFormDataType) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <p>Login: dev000test111@gmail.com</p>\r\n            <p>Password: react-redux-100%</p>\r\n            <LoginForm authError={formError} onSubmitHandler={onSubmitHandler}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    formError: state.form.error\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(LoginPage)","import React, {ChangeEvent} from \"react\";\r\n\r\ntype propsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport class ProfileStatus extends React.Component<propsType, {}> {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    // Synchronizing the global value of user status with local, to prevent empty input.\r\n    componentDidUpdate(prevProps: Readonly<propsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    activeEditMode = () => {\r\n        // setState is asynchronous\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        // setState is asynchronous\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={this.activeEditMode}>{this.props.status || 'No status'}</span>\r\n                    </div>\r\n                }\r\n                {this.state.editMode &&\r\n                    <div>\r\n                        <input onChange={this.onStatusChange}\r\n                               autoFocus={true}\r\n                               onBlur={this.deactivateEditMode}\r\n                               value={this.state.status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","import {ProfileType} from \"../../../redux/reducers/profile-reducer\";\r\nimport React from \"react\";\r\nimport {Field, Form} from \"react-final-form\";\r\nimport {FormErrorType} from \"../../../redux/reducers/form-reducer\";\r\n\r\ntype ProfileDataFormPropsType = {\r\n    profile: ProfileType\r\n    formError: FormErrorType\r\n    onEditSubmitHandler: (formData: any) => void\r\n}\r\n\r\nexport const ProfileDataForm: React.FC<ProfileDataFormPropsType> = (props) => {\r\n\r\n    const {\r\n        profile,\r\n        onEditSubmitHandler,\r\n        formError,\r\n    } = props\r\n\r\n    return (\r\n        <Form\r\n            onSubmit={values => onEditSubmitHandler(values)}\r\n            render={({handleSubmit}) => (\r\n                <form onSubmit={async event => {\r\n                    await handleSubmit(event)\r\n                }}>\r\n                    <div>\r\n                        <Field placeholder={'full name'}\r\n                               defaultValue={profile.lookingForAJob}\r\n                               name={'fullName'}\r\n                               component={'input'}/>\r\n                    </div>\r\n                    <div>\r\n                        <label>\r\n                            <Field defaultValue={profile.lookingForAJob}\r\n                                   name={'lookingForAJob'}\r\n                                   component={'input'}\r\n                                   type={'checkbox'}/>\r\n                            Looking for a job\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div>My professional skills:\r\n                        <Field defaultValue={profile.lookingForAJobDescription}\r\n                               name={'lookingForAJobDescription'}\r\n                               component={'textarea'}/>\r\n                    </div>\r\n\r\n                    <div>About me:\r\n                        <Field defaultValue={profile.aboutMe} name={'aboutMe'} component={'textarea'}/>\r\n                    </div>\r\n\r\n                    Contacts\r\n                    <div>Contacts:</div>\r\n\r\n                    {Object.keys(profile.contacts).map((key: any) => {\r\n                        return (\r\n                            <div key={key}>{key}:<Field placeholder={key} defaultValue={profile.contacts[key]}\r\n                                                        name={'contacts.' + key} component={'input'}/></div>\r\n                        )\r\n                    })}\r\n\r\n                    <div>{formError.messages}</div>\r\n                    <button>Save profile</button>\r\n                </form>\r\n            )}\r\n        >\r\n        </Form>\r\n    )\r\n}","import React, {useState} from \"react\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileStatus} from \"./ProfileStatus/ProfileStatus\";\r\nimport userAvatarDefault from \"../../../assets/images/avatar-default.png\";\r\nimport {ProfileType} from \"../../../redux/reducers/profile-reducer\";\r\nimport {ProfileDataForm} from \"./ProfileDataForm\";\r\nimport {FormErrorType} from \"../../../redux/reducers/form-reducer\";\r\n\r\ntype propsType = {\r\n    isOwner: boolean\r\n    profile: ProfileType\r\n    status: string\r\n    editMode: boolean\r\n    updateStatus: (status: string) => void\r\n    savePhoto: any\r\n    saveProfile: any\r\n    formError: FormErrorType\r\n    setEditMode: (editModeState: boolean) => void\r\n}\r\n\r\nexport const ProfileInfo: React.FC<propsType> = (props) => {\r\n\r\n    const {\r\n        isOwner,\r\n        profile,\r\n        status,\r\n        editMode,\r\n        updateStatus,\r\n        savePhoto,\r\n        saveProfile,\r\n        formError,\r\n        setEditMode\r\n    } = props\r\n\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelect = (e: any) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const editModeHandler = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onEditSubmitHandler = (formData: any) => {\r\n        saveProfile(formData)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src={profile.photos.large || userAvatarDefault} alt=\"\"/>\r\n                {isOwner && <input type={'file'} onChange={onMainPhotoSelect}/>}\r\n            </div>\r\n\r\n            {editMode ? <ProfileDataForm profile={profile} onEditSubmitHandler={onEditSubmitHandler} formError={formError}/> :\r\n                <ProfileData profile={profile} isOwner={isOwner} goToEditMode={editModeHandler}/>}\r\n\r\n            <div>\r\n                <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n        <div>\r\n            {isOwner && <button onClick={goToEditMode}>edit</button>}\r\n            <div>Full name {profile.fullName}</div>\r\n\r\n            <div>Looking for a job: {profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n\r\n            {profile.lookingForAJob &&\r\n            <div>My professional skills: {profile.lookingForAJobDescription}</div>}\r\n\r\n            {Object.keys(profile.contacts).map((key: string) => {\r\n                return (\r\n                    <div key={key}>{key}: {profile.contacts[key]}</div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Post.module.scss'\r\nimport {PostType} from \"../../../../redux/reducers/profile-reducer\";\r\n\r\ntype PostPropsType = PostType;\r\n\r\nlet avatarSrc = 'https://at-cdn-s02.audiotool.com/2020-12-04/users/error_/avatar256x256-31037b09db3c4089b73baef792827e1b.jpg'\r\n\r\nexport const Post: React.FC<PostPropsType> = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={avatarSrc} alt=\"Avatar\" className={s.avatar}/>\r\n            <div>{props.post}</div>\r\n            <div>Likes: {props.likes}</div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './MyPosts.module.scss'\r\nimport {Post} from \"./Post/Post\";\r\nimport {PostDataType} from \"../../../redux/reducers/profile-reducer\";\r\nimport {Field, Form} from \"react-final-form\";\r\nimport {composeValidators, maxLength} from \"../../../utils/validators/validators\";\r\nimport {TextArea} from \"../../common/FormControls/FormControls\";\r\n\r\ntype MyPostsPropsType = {\r\n    addPost: (newPostText: string) => void\r\n    posts: PostDataType\r\n}\r\n\r\nexport const MyPosts = (props: MyPostsPropsType) => {\r\n\r\n    let myPosts = props.posts.map(post => <Post key={post.id} id={post.id} post={post.post} likes={post.likes}/>)\r\n\r\n\r\n    let onAddPost = (newPostText: string) => {\r\n        props.addPost(newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <NewPostForm onAddPost={onAddPost}/>\r\n            <div>\r\n                {myPosts}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormPropsType = {\r\n    onAddPost: (newPostText: string) => void\r\n}\r\n\r\n// Form Component\r\nconst NewPostForm: React.FC<FormPropsType> = ({onAddPost}) => {\r\n    return (\r\n        <Form\r\n            onSubmit={values => {\r\n                onAddPost(values.newPost)\r\n            }}\r\n            render={({handleSubmit, form}) => (\r\n                <form onSubmit={async event => {\r\n                    await handleSubmit(event)\r\n                    form.reset()\r\n                }}>\r\n                    <div>\r\n                        <Field component={TextArea}\r\n                               name={'newPost'}\r\n                               placeholder={'Add new post'}\r\n                               validate={composeValidators(maxLength(150))}/>\r\n                    </div>\r\n                    <div>\r\n                        <button>Send</button>\r\n                    </div>\r\n                </form>\r\n            )}>\r\n        </Form>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {AppRootStateType, DispatchType} from \"../../../redux/store\";\r\nimport {addPost} from \"../../../redux/reducers/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: DispatchType) => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPost(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import React from 'react';\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/reducers/profile-reducer\";\r\nimport {FormErrorType} from \"../../redux/reducers/form-reducer\";\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n    profile: ProfileType\r\n    status: string\r\n    editMode: boolean\r\n    updateStatus: (status: string) => void\r\n    savePhoto: any\r\n    saveProfile: any\r\n    formError: FormErrorType\r\n    setEditMode: (editModeState: boolean) => void\r\n}\r\n\r\nexport const Profile: React.FC<PropsType> = (props) => {\r\n\r\n    const {\r\n        savePhoto,\r\n        isOwner,\r\n        profile,\r\n        status,\r\n        editMode,\r\n        updateStatus,\r\n        saveProfile,\r\n        formError,\r\n        setEditMode\r\n    } = props\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={savePhoto}\r\n                         isOwner={isOwner}\r\n                         profile={profile}\r\n                         status={status}\r\n                         editMode={editMode}\r\n                         updateStatus={updateStatus}\r\n                         saveProfile={saveProfile}\r\n                         formError={formError}\r\n                         setEditMode={setEditMode}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileStatus,\r\n    getUserProfile,\r\n    savePhoto,\r\n    saveProfile, setEditMode,\r\n    updateProfileStatus\r\n} from \"../../redux/reducers/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {AppRootStateType} from \"../../redux/store\";\r\n\r\ntype PropsType = any\r\n\r\nclass ProfileContainer extends React.Component<PropsType, {}> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.loggedInUserId;\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getProfileStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     editMode={this.props.editMode}\r\n                     updateStatus={this.props.updateProfileStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}\r\n                     formError={this.props.formError}\r\n                     setEditMode={this.props.setEditMode}\r\n                     {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    editMode: state.profilePage.profileEditModeOn,\r\n    loggedInUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    formError: state.form.error\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getProfileStatus, updateProfileStatus, savePhoto, saveProfile, setEditMode}),\r\n    withRouter, withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n// Compose is alternative to writing the hoc hell, like in the line below.\r\n// export default withAuthRedirect(withRouter(connect(mapStateToProps, {getUserProfile})(ProfileContainer)))","import React, {ComponentType, Suspense} from \"react\";\r\nimport {Preloader} from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport function withSuspense<T>(Component: ComponentType<T>) {\r\n\r\n    return (props: any) => {\r\n        return (\r\n            <Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport './App.scss';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/LoginPage/LoginPage\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/reducers/app-reducer\";\r\nimport {AppRootStateType} from \"./redux/store\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\").then(module => ({default: module.DialogsContainer})))\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\").then(module => ({default: module.UsersContainer})))\r\n\r\ntype PropsType = any\r\n\r\nclass App extends React.Component<PropsType, any> {\r\n\r\n    catchAllUnhandledErrors = (promiseRejectionEvent: any) => {\r\n        console.error('catch unhandled error have been triggered')\r\n        console.error(promiseRejectionEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <HashRouter>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar/>\r\n                    <div className='app-content'>\r\n\r\n                        <Switch>\r\n\r\n                            <Redirect exact path='/' to={'/profile'}/>\r\n\r\n                            <Route path='/profile/:userId?'>\r\n                                <ProfileContainer/>\r\n                            </Route>\r\n\r\n                            <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n\r\n                            <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n\r\n                            <Route path='/login'>\r\n                                <LoginPage/>\r\n                            </Route>\r\n\r\n                            <Route path='*'>\r\n                                <div> 404 page</div>\r\n                            </Route>\r\n                        </Switch>\r\n\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {initializeApp}))(App);","import React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.scss';\r\nimport {store} from \"./redux/store\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root'))\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","import axios from \"axios\";\r\nimport {ProfileType} from \"../redux/reducers/profile-reducer\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'dd304e28-3d68-4d00-a172-a57bb7d47656_'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    // Backward compatibility for components that use usersAPI instead of profileAPI\r\n    getProfile(userId: number) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(newStatus: string) {\r\n        // 'put' requires Object file as a second argument\r\n        return instance.put(`profile/status`, {status: newStatus})\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}"],"sourceRoot":""}