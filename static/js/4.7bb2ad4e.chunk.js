(this.webpackJsonpsamurai=this.webpackJsonpsamurai||[]).push([[4],{91:function(e,n,t){e.exports={selectedPage:"Paginator_selectedPage__3bbAd"}},92:function(e,n,t){e.exports={usersPhoto:"Users_usersPhoto__23Jjl",selectedPage:"Users_selectedPage__5oLbG"}},94:function(e,n,t){"use strict";t.r(n),t.d(n,"UsersContainer",(function(){return N}));var r=t(16),o=t(17),s=t(19),i=t(18),u=t(0),l=t.n(u),a=t(10),c=t(50);var f=t(37);function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(l){o=!0,s=l}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}return t}}(e,n)||Object(f.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=t(91),d=t.n(p),h=t(1),j=function(e){for(var n=e.pageSize,t=e.totalItemsCount,r=e.currentPage,o=e.onPageChanged,s=e.portionSize,i=Math.ceil(t/n),l=[],a=1;a<=i;a++)l.push(a);var c=Math.ceil(i/s),f=g(Object(u.useState)(1),2),p=f[0],j=f[1],b=(p-1)*s+1,v=p*s;return Object(h.jsxs)("div",{children:[p>1&&Object(h.jsx)("button",{onClick:function(){j(p-1)},children:"PREV"}),Object(h.jsx)("div",{children:l.filter((function(e){return e>=b&&e<=v})).map((function(e){return Object(h.jsx)("span",{className:r===e?d.a.selectedPage:"",onClick:function(n){o(e)},children:e})}))}),c>p&&Object(h.jsx)("button",{onClick:function(){j(p+1)},children:"NEXT"})]})},b=t(48),v=t(92),P=t.n(v),w=t(8),y=function(e){var n=e.user,t=e.followingInProgress,r=e.follow,o=e.unfollow;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(w.c,{to:"/profile/"+n.id,children:Object(h.jsx)("img",{src:null!=n.photos.small?n.photos.small:b.a,className:P.a.usersPhoto,alt:"User"})})}),Object(h.jsx)("div",{children:n.followed?Object(h.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){o(n.id)},children:"Unfollow"}):Object(h.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"Follow"})}),Object(h.jsx)("div",{children:n.name}),Object(h.jsx)("div",{children:n.status})]})},O=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(j,{pageSize:e.pageSize,totalItemsCount:e.totalUsersCount,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:10}),e.users.map((function(n){return Object(h.jsx)(y,{user:n,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},n.id)}))]})},m=t(24),x=t(36),C=t(15);function S(e,n){return e===n}function U(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}function I(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var z=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=0,i=r.pop(),u=I(r),l=e.apply(void 0,[function(){return s++,i.apply(null,arguments)}].concat(t)),a=e((function(){for(var e=[],n=u.length,t=0;t<n;t++)e.push(u[t].apply(null,arguments));return l.apply(null,e)}));return a.resultFunc=i,a.dependencies=u,a.recomputations=function(){return s},a.resetRecomputations=function(){return s=0},a}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,t=null,r=null;return function(){return U(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var k=z((function(e){return e.usersPage.users}),(function(e){return e})),_=function(e){return e.usersPage.pageSize},A=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.currentPage},E=function(e){return e.usersPage.isFetching},J=function(e){return e.usersPage.followingInProgress},M=function(e){Object(s.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){var t=e.props;(0,t.getUsers)(n,t.pageSize)},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.currentPage,e.pageSize)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[this.props.isFetching?Object(h.jsx)(m.a,{}):null,Object(h.jsx)(O,{users:this.props.users,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),t}(l.a.Component),N=Object(C.d)(Object(a.b)((function(e){return{users:k(e),pageSize:_(e),totalUsersCount:A(e),currentPage:F(e),isFetching:E(e),followingInProgress:J(e)}}),{follow:c.a,unfollow:c.e,setCurrentPage:c.c,toggleIsFollowingProgress:c.d,getUsers:c.b}),x.a)(M)}}]);
//# sourceMappingURL=4.7bb2ad4e.chunk.js.map